{"paragraphs":[{"title":"Load Dependencies","text":"%dep\nz.load(\"org.apache.commons:commons-csv:1.2\")\nz.load(\"org.apache.spark:spark-streaming-kafka_2.10:1.5.2\")\nz.load(\"com.typesafe.play:play-json_2.10:2.4.6\")\n","dateUpdated":"Mar 4, 2016 12:02:08 AM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1457047422117_-788755073","id":"20160303-232342_2115133958","result":{"code":"SUCCESS","type":"TEXT","msg":"res0: org.apache.zeppelin.spark.dep.Dependency = org.apache.zeppelin.spark.dep.Dependency@5ba40793\n"},"dateCreated":"Mar 3, 2016 11:23:42 PM","dateStarted":"Mar 4, 2016 12:02:08 AM","dateFinished":"Mar 4, 2016 12:02:14 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3292","focus":true},{"title":"Spark Streaming","text":"import java.text.{SimpleDateFormat, ParseException}\nimport java.util.Date\n\nimport org.apache.spark.{SparkConf}\nimport org.apache.spark.streaming.kafka.{KafkaUtils}\nimport org.apache.spark.streaming.{StreamingContext, Seconds}\n\nimport play.api.libs.json._\n\nval ssc = new StreamingContext(sc, Seconds(2))\nval msgStream = KafkaUtils.createStream(ssc, \"leader.mesos\", \"zeppelin-consumer-group\", Map(\"tweets\" -> 1)).map(_._2)\n\nval tweetStream = msgStream.map(tweetString => {\n        val tweet = Json.parse(tweetString)\n        ((tweet \\ \"handle\").as[String], (tweet \\ \"content\").as[String], (tweet \\ \"created_at\").as[String])\n    })\ntweetStream.print()\n            \ntweetStream.window(Seconds(60))\n    .foreachRDD(rdd => rdd.toDF(\"handle\", \"content\", \"created_at\").registerTempTable(\"tweets\"))\n                                   \n                                        \n            \nssc.start()","dateUpdated":"Mar 4, 2016 12:02:17 AM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"tableHide":false,"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1457047422119_-787985575","id":"20160303-232342_742726194","result":{"code":"SUCCESS","type":"TEXT","msg":"import java.text.{SimpleDateFormat, ParseException}\nimport java.util.Date\nimport org.apache.spark.SparkConf\nimport org.apache.spark.streaming.kafka.KafkaUtils\nimport org.apache.spark.streaming.{StreamingContext, Seconds}\nimport play.api.libs.json._\nssc: org.apache.spark.streaming.StreamingContext = org.apache.spark.streaming.StreamingContext@33126f3f\nmsgStream: org.apache.spark.streaming.dstream.DStream[String] = org.apache.spark.streaming.dstream.MappedDStream@1f5376fc\ntweetStream: org.apache.spark.streaming.dstream.DStream[(String, String, String)] = org.apache.spark.streaming.dstream.MappedDStream@20f4af29\n"},"dateCreated":"Mar 3, 2016 11:23:42 PM","dateStarted":"Mar 4, 2016 12:02:17 AM","dateFinished":"Mar 4, 2016 12:02:28 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3293","focus":true},{"title":"Top tweeters","text":"%sql select handle, count(*) as count from tweets\n    group by handle\n    order by count desc","dateUpdated":"Mar 4, 2016 12:11:20 AM","config":{"colWidth":12,"graph":{"mode":"multiBarChart","height":560,"optionOpen":false,"keys":[{"name":"handle","index":0,"aggr":"sum"}],"values":[{"name":"count","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"handle","index":0,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql","editorHide":false,"tableHide":false,"title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1457047422120_-789909319","id":"20160303-232342_1580827834","result":{"code":"SUCCESS","type":"TABLE","msg":"handle\tcount\nrosalind\t236\ntouchstone\t134\njaques\t117\ncelia\t97\norlando\t94\nduke senior\t48\ncorin\t42\nphebe\t30\nduke frederick\t19\namiens\t17\nsilvius\t15\naudrey\t9\nsir oliver martext\t7\nadam\t2\noliver\t2\n","comment":"","msgTable":[[{"key":"count","value":"rosalind"},{"key":"count","value":"236"}],[{"value":"touchstone"},{"value":"134"}],[{"value":"jaques"},{"value":"117"}],[{"value":"celia"},{"value":"97"}],[{"value":"orlando"},{"value":"94"}],[{"value":"duke senior"},{"value":"48"}],[{"value":"corin"},{"value":"42"}],[{"value":"phebe"},{"value":"30"}],[{"value":"duke frederick"},{"value":"19"}],[{"value":"amiens"},{"value":"17"}],[{"value":"silvius"},{"value":"15"}],[{"value":"audrey"},{"value":"9"}],[{"value":"sir oliver martext"},{"value":"7"}],[{"value":"adam"},{"value":"2"}],[{"value":"oliver"},{"value":"2"}]],"columnNames":[{"name":"handle","index":0,"aggr":"sum"},{"name":"count","index":1,"aggr":"sum"}],"rows":[["rosalind","236"],["touchstone","134"],["jaques","117"],["celia","97"],["orlando","94"],["duke senior","48"],["corin","42"],["phebe","30"],["duke frederick","19"],["amiens","17"],["silvius","15"],["audrey","9"],["sir oliver martext","7"],["adam","2"],["oliver","2"]]},"dateCreated":"Mar 3, 2016 11:23:42 PM","dateStarted":"Mar 4, 2016 12:11:02 AM","dateFinished":"Mar 4, 2016 12:11:05 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3294","focus":true},{"dateUpdated":"Mar 3, 2016 11:23:42 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1457047422120_-789909319","id":"20160303-232342_638407161","result":{"code":"SUCCESS","type":"TEXT"},"dateCreated":"Mar 3, 2016 11:23:42 PM","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3296"}],"name":"Tweeter Analytics","id":"2BED2CHP6","angularObjects":{"2BFNRM3S3":[],"2BEN8AX7H":[],"2BC79ZSRY":[],"2BDMB8XK3":[],"2BEJ5ZA5J":[],"2BDPFR6H9":[],"2BCWTHYZH":[],"2BD9GF276":[],"2BFGS9HAT":[],"2BC2XSGYY":[],"2BCVKRR1P":[],"2BD5QNQG4":[],"2BFHSCWPM":[],"2BC1G59SZ":[]},"config":{"looknfeel":"default"},"info":{}}
